CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `view_stats_daily` AS select `t`.`agrType` AS `agrType`,`t`.`ambient_temp` AS `ambient_temp`,`t`.`ground_temp` AS `ground_temp`,`t`.`pressure` AS `pressure`,`t`.`humidity` AS `humidity`,`t`.`wind_average` AS `wind_average`,`t`.`wind_speed` AS `wind_speed`,`t`.`wind_gust` AS `wind_gust`,`t`.`rainfall` AS `rainfall`,`t`.`date` AS `date` from (select 'min' AS `agrType`,min(`weather_station`.`measurements`.`ambient_temp`) AS `ambient_temp`,min(`weather_station`.`measurements`.`ground_temp`) AS `ground_temp`,min(`weather_station`.`measurements`.`pressure`) AS `pressure`,min(`weather_station`.`measurements`.`humidity`) AS `humidity`,min(`weather_station`.`measurements`.`wind_average`) AS `wind_average`,min(`weather_station`.`measurements`.`wind_speed`) AS `wind_speed`,min(`weather_station`.`measurements`.`wind_gust`) AS `wind_gust`,min(`weather_station`.`measurements`.`rainfall`) AS `rainfall`,date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') AS `date` from `weather_station`.`measurements` group by date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') union select 'max' AS `agrType`,max(`weather_station`.`measurements`.`ambient_temp`) AS `ambient_temp`,max(`weather_station`.`measurements`.`ground_temp`) AS `ground_temp`,max(`weather_station`.`measurements`.`pressure`) AS `pressure`,max(`weather_station`.`measurements`.`humidity`) AS `humidity`,max(`weather_station`.`measurements`.`wind_average`) AS `wind_average`,max(`weather_station`.`measurements`.`wind_speed`) AS `wind_speed`,max(`weather_station`.`measurements`.`wind_gust`) AS `wind_gust`,max(`weather_station`.`measurements`.`rainfall`) AS `rainfall`,date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') AS `date` from `weather_station`.`measurements` group by date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') union select 'avg' AS `agrType`,avg(`weather_station`.`measurements`.`ambient_temp`) AS `ambient_temp`,avg(`weather_station`.`measurements`.`ground_temp`) AS `ground_temp`,avg(`weather_station`.`measurements`.`pressure`) AS `pressure`,avg(`weather_station`.`measurements`.`humidity`) AS `humidity`,avg(`weather_station`.`measurements`.`wind_average`) AS `wind_average`,avg(`weather_station`.`measurements`.`wind_speed`) AS `wind_speed`,avg(`weather_station`.`measurements`.`wind_gust`) AS `wind_gust`,avg(`weather_station`.`measurements`.`rainfall`) AS `rainfall`,date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') AS `date` from `weather_station`.`measurements` group by date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') union select 'stdv' AS `agrType`,std(`weather_station`.`measurements`.`ambient_temp`) AS `ambient_temp`,std(`weather_station`.`measurements`.`ground_temp`) AS `ground_temp`,std(`weather_station`.`measurements`.`pressure`) AS `pressure`,std(`weather_station`.`measurements`.`humidity`) AS `humidity`,std(`weather_station`.`measurements`.`wind_average`) AS `wind_average`,std(`weather_station`.`measurements`.`wind_speed`) AS `wind_speed`,std(`weather_station`.`measurements`.`wind_gust`) AS `wind_gust`,std(`weather_station`.`measurements`.`rainfall`) AS `rainfall`,date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d') AS `date` from `weather_station`.`measurements` group by date_format(`weather_station`.`measurements`.`created`,'%Y-%m-%d')) `t`;